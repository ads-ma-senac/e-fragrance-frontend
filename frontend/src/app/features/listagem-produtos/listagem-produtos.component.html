<div class="produtos-container">
    <div class="produtos-container-name">
        <h1>Produtos</h1>
    </div>
    <div class="lista-container-name">
        <p>Lista de Perfumes</p>
    </div>
    
    <div class="actions-header">
        <mat-form-field >
            <input matInput placeholder="Buscar produto">
        </mat-form-field> 

        <button mat-raised-button class="">
            Adicionar novo produto
        </button>
    </div>

    <div>
        <table mat-table [dataSource]="dataSource">
            @for (coluna of displayedColumns; track coluna) {
              <ng-container [matColumnDef]="coluna">
                <th mat-header-cell *matHeaderCellDef>
                    {{ getHeader(coluna) }}
                  </th>
                  
                  <td mat-cell *matCellDef="let produto">
                    @if (coluna === 'acoes') {
                        <button mat-icon-button color="warn"  (click)="deletarProduto(produto)">
                            <div class="icone-delete">
                                <mat-icon>delete</mat-icon>
                            </div>
                            
                        </button>
                        <button  mat-icon-button color="primary" class="icone-edit" (click)="editarProduto(produto)">
                            <mat-icon >edit</mat-icon>
                        </button>
                        
                    } @else {
                        <ng-container *ngIf="coluna === 'criadoEm'; else checkPrice">
                            {{ produto[coluna] | date: 'dd/MM/yyyy HH:mm' }}
                        </ng-container>
                        <ng-template #checkPrice>
                            <ng-container *ngIf="coluna === 'precoUnidade'; else normalCell">
                                {{ produto[coluna] | currency: 'BRL':'symbol':'1.2-2':'pt-BR' }}
                            </ng-container>
                        </ng-template>
                        <ng-template #normalCell>
                            {{ produto[coluna] }}
                        </ng-template>
                    }
                  </td>
              </ng-container>
            }
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          
    </div>

    <!-- <div>
        <mat-paginator [length]="100"
                        [pageSize]="10"
                        [pageSizeOptions]="[5, 10, 25, 100]"
                        aria-label="Select page">
        </mat-paginator>
    </div> -->
    
</div>
