<!-- image-upload-card.component.html -->
<div class="image-upload-card">
  <div class="card-content">
    <ng-container *ngIf="!image; else imagePreview">
      <div (dragleave)="handleDragLeave()" (dragover)="handleDragOver($event)" (drop)="handleDrop($event)"
           [ngClass]="{'dragging': isDragging}" class="drop-area">
        <svg fill="none" height="48" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
             stroke-width="1.5" viewBox="0 0 24 24" width="48" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" x2="12" y1="3" y2="15"></line>
        </svg>
        <p class="drop-text-main">Arraste e solte sua imagem aqui</p>
        <p class="drop-text-sub">ou selecione do seu computador</p>
        <button (click)="triggerFileInput()" class="file-button" type="button">
          Escolher Arquivo
        </button>
      </div>
    </ng-container>

    <ng-template #imagePreview>
      <div class="preview-container">
        <img [src]="image" alt="Preview" class="image-preview">
        <button (click)="removeImage()" aria-label="Remover imagem" class="remove-button" type="button">
          <svg fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
               stroke-width="2" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
            <line x1="18" x2="6" y1="6" y2="18"></line>
            <line x1="6" x2="18" y1="6" y2="18"></line>
          </svg>
        </button>
      </div>
    </ng-template>

    <input (change)="handleFileChange($event)" accept="image/*" class="file-input" type="file">
  </div>
</div>
